{
  "timestamp": "2025-11-10T01:08:57.245Z",
  "overallScore": "31.25",
  "results": {
    "security": {
      "score": 0,
      "issues": [
        {
          "category": "A03:2021 - Injection",
          "description": "Posible Command Injection: exec(, exec(, exec(, exec(, exec(",
          "file": "config\\database.js",
          "severity": "CRITICAL"
        },
        {
          "category": "A09:2021 - Logging Failures",
          "description": "Datos sensibles en logs",
          "file": "database\\make-admin.js",
          "severity": "MEDIUM"
        },
        {
          "category": "A03:2021 - Injection",
          "description": "Posible Command Injection: exec(",
          "file": "database\\migrations\\add-cdt-admin-fields.js",
          "severity": "CRITICAL"
        },
        {
          "category": "A03:2021 - Injection",
          "description": "Posible SQL Injection detectada",
          "file": "models\\cdtModel.js",
          "severity": "CRITICAL"
        },
        {
          "category": "A03:2021 - Injection",
          "description": "Posible SQL Injection detectada",
          "file": "models\\userModel.js",
          "severity": "CRITICAL"
        },
        {
          "category": "A01:2021 - Broken Access Control",
          "description": "Rutas POST/PUT/DELETE sin protecciÃ³n CSRF",
          "file": "routes\\authRoutes.js",
          "severity": "HIGH"
        },
        {
          "category": "A01:2021 - Broken Access Control",
          "description": "Rutas POST/PUT/DELETE sin protecciÃ³n CSRF",
          "file": "routes\\cdtRoutes.js",
          "severity": "HIGH"
        },
        {
          "category": "A01:2021 - Broken Access Control",
          "description": "Rutas POST/PUT/DELETE sin protecciÃ³n CSRF",
          "file": "routes\\userRoutes.js",
          "severity": "HIGH"
        }
      ],
      "recommendations": [
        "ğŸ”§ Implementar CSRF protection en rutas POST/PUT/DELETE",
        "ğŸ”§ Usar bcrypt/argon2 para hashing de passwords",
        "ğŸ”§ Validar y sanitizar todas las entradas de usuario",
        "ğŸ”§ Usar variables de entorno para secretos",
        "ğŸ”§ Implementar rate limiting",
        "ğŸ”§ Usar helmet.js para headers de seguridad"
      ]
    },
    "performance": {
      "score": 70,
      "issues": [
        {
          "category": "Inefficient Queries",
          "description": "Queries SELECT * o findAll() detectadas",
          "file": "database\\seeds\\create-admin.js",
          "severity": "MEDIUM"
        },
        {
          "category": "Inefficient Queries",
          "description": "Queries SELECT * o findAll() detectadas",
          "file": "database\\viewDatabase.js",
          "severity": "MEDIUM"
        },
        {
          "category": "Inefficient Queries",
          "description": "Queries SELECT * o findAll() detectadas",
          "file": "models\\cdtModel.js",
          "severity": "MEDIUM"
        },
        {
          "category": "Missing Indexes",
          "description": "MÃºltiples WHEREs sin Ã­ndices explÃ­citos",
          "file": "models\\cdtModel.js",
          "severity": "LOW"
        },
        {
          "category": "Missing Indexes",
          "description": "MÃºltiples WHEREs sin Ã­ndices explÃ­citos",
          "file": "models\\userModel.js",
          "severity": "LOW"
        }
      ],
      "recommendations": [
        "âš¡ Implementar eager loading para relaciones",
        "âš¡ Usar operaciones asÃ­ncronas (async/await)",
        "âš¡ Crear Ã­ndices para columnas frecuentemente consultadas",
        "âš¡ Implementar caching (Redis/Memory Cache)",
        "âš¡ Limitar resultados con paginaciÃ³n",
        "âš¡ Usar connection pooling"
      ]
    },
    "maintainability": {
      "score": 0,
      "metrics": {
        "totalLOC": 4334,
        "commentRatio": "19.50%",
        "totalFunctions": 132,
        "complexFunctions": 9,
        "longFunctions": 7,
        "largeFiles": 4,
        "avgComplexityRatio": "6.82%"
      },
      "recommendations": [
        "MEDIUM: Archivo muy largo: 304 lÃ­neas (max: 300) en config\\financialRules.js",
        "MEDIUM: Archivo muy largo: 479 lÃ­neas (max: 300) en controllers\\cdtController.js",
        "MEDIUM: Archivo muy largo: 752 lÃ­neas (max: 300) en models\\cdtModel.js",
        "MEDIUM: Archivo muy largo: 668 lÃ­neas (max: 300) en services\\cdtService.js",
        "ğŸ”€ Refactorizar funciones complejas (complexity > 10)",
        "âœ‚ï¸ Dividir funciones largas en funciones mÃ¡s pequeÃ±as",
        "ğŸ“¦ Dividir archivos grandes en mÃ³dulos mÃ¡s pequeÃ±os",
        "ğŸ“ Seguir principios SOLID",
        "ğŸ¯ Mantener Single Responsibility Principle"
      ]
    },
    "scalability": {
      "score": 100,
      "issues": [],
      "recommendations": [
        "ğŸ“Š Implementar paginaciÃ³n en todos los endpoints de listado",
        "ğŸ”„ Usar colas para procesamiento asÃ­ncrono (Bull/RabbitMQ)",
        "ğŸ’¾ Implementar caching distribuido (Redis)",
        "âš–ï¸ DiseÃ±ar para stateless servers",
        "ğŸŒ Usar CDN para assets estÃ¡ticos",
        "ğŸ“¡ Implementar health checks y metrics"
      ]
    },
    "reliability": {
      "score": 15,
      "issues": [
        {
          "category": "Missing Input Validation",
          "description": "Archivo sin validaciones de entrada aparentes",
          "file": "config\\env.js",
          "severity": "MEDIUM"
        },
        {
          "category": "Missing Input Validation",
          "description": "Archivo sin validaciones de entrada aparentes",
          "file": "middlewares\\csrfProtection.js",
          "severity": "MEDIUM"
        },
        {
          "category": "Missing Input Validation",
          "description": "Archivo sin validaciones de entrada aparentes",
          "file": "middlewares\\rateLimiter.js",
          "severity": "MEDIUM"
        },
        {
          "category": "Missing Input Validation",
          "description": "Archivo sin validaciones de entrada aparentes",
          "file": "routes\\authRoutes.js",
          "severity": "MEDIUM"
        },
        {
          "category": "Missing Input Validation",
          "description": "Archivo sin validaciones de entrada aparentes",
          "file": "routes\\cacheRoutes.js",
          "severity": "MEDIUM"
        },
        {
          "category": "Missing Input Validation",
          "description": "Archivo sin validaciones de entrada aparentes",
          "file": "routes\\cdtRoutes.js",
          "severity": "MEDIUM"
        },
        {
          "category": "Missing Input Validation",
          "description": "Archivo sin validaciones de entrada aparentes",
          "file": "routes\\userRoutes.js",
          "severity": "MEDIUM"
        }
      ],
      "recommendations": [
        "âœ… Implementar try-catch en todas las funciones async",
        "ğŸ” Validar todas las entradas de usuario",
        "ğŸ“‹ Usar middleware de validaciÃ³n (express-validator)",
        "ğŸš¨ Implementar logging de errores centralizado",
        "ğŸ”„ Implementar retry logic para operaciones crÃ­ticas",
        "ğŸ’¾ Implementar backups automÃ¡ticos de BD"
      ],
      "errorHandlingRatio": "60.61%"
    }
  }
}