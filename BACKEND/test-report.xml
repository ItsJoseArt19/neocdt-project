<?xml version="1.0" encoding="UTF-8"?>
<testExecutions version="1">
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\cdtService.comprehensive.test.js">
    <testCase name="cdtService - Comprehensive Coverage createCDT should create CDT with calculated end date and audit log" duration="23"/>
    <testCase name="cdtService - Comprehensive Coverage createCDT should handle CDT creation without renovation option" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage createCDT should throw error when CDT creation fails" duration="67"/>
    <testCase name="cdtService - Comprehensive Coverage getMyCDTs should return cached CDTs when available" duration="4"/>
    <testCase name="cdtService - Comprehensive Coverage getMyCDTs should fetch CDTs from database when not cached" duration="5"/>
    <testCase name="cdtService - Comprehensive Coverage getMyCDTs should filter CDTs by status" duration="3"/>
    <testCase name="cdtService - Comprehensive Coverage getMyCDTs should handle pagination correctly" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage getCDTById should return CDT when user is owner" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage getCDTById should return CDT when user is admin" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage getCDTById should throw 404 when CDT not found" duration="3"/>
    <testCase name="cdtService - Comprehensive Coverage getCDTById should throw 403 when user is not owner and not admin" duration="3"/>
    <testCase name="cdtService - Comprehensive Coverage updateCDT should update CDT in draft status" duration="4"/>
    <testCase name="cdtService - Comprehensive Coverage updateCDT should not update CDT in pending status" duration="9"/>
    <testCase name="cdtService - Comprehensive Coverage updateCDT should throw 404 when CDT not found" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage updateCDT should throw 403 when user is not owner" duration="18"/>
    <testCase name="cdtService - Comprehensive Coverage updateCDT should throw 400 when CDT is not editable" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage changeStatus should change status from draft to pending" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage changeStatus should throw 400 when transition is invalid" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage changeStatus should invalidate cache after status change" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage cancelCDT should cancel CDT with reason" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage cancelCDT should allow admin to cancel any CDT" duration="1"/>
    <testCase name="cdtService - Comprehensive Coverage cancelCDT should throw 400 when no reason provided" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage cancelCDT should handle model validation errors" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage cancelCDT should handle status validation errors from model" duration="1"/>
    <testCase name="cdtService - Comprehensive Coverage deleteCDT should delete draft CDT" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage deleteCDT should delete cancelled CDT" duration="1"/>
    <testCase name="cdtService - Comprehensive Coverage submitCDTForReview should submit draft CDT for review" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage submitCDTForReview should handle model validation errors" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage submitCDTForReview should handle permission errors" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage approveCDT should approve pending CDT" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage approveCDT should handle model validation errors" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage rejectCDT should reject pending CDT with notes" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage rejectCDT should throw 400 when rejection notes are missing" duration="1"/>
    <testCase name="cdtService - Comprehensive Coverage getAdminStats should return aggregated CDT statistics from cache" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage getAdminStats should calculate stats when cache is empty" duration="5"/>
    <testCase name="cdtService - Comprehensive Coverage getAuditLog should return audit log for CDT owner" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage getAuditLog should allow admin to view any audit log" duration="1"/>
    <testCase name="cdtService - Comprehensive Coverage getAuditLog should throw 403 when non-owner tries to view audit log" duration="4"/>
    <testCase name="cdtService - Comprehensive Coverage getAllCDTsForAdmin should return all CDTs with filters for admin" duration="4"/>
    <testCase name="cdtService - Comprehensive Coverage getAllCDTsForAdmin should filter by userId when provided" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage getPendingCDTs should return only pending CDTs from cache" duration="2"/>
    <testCase name="cdtService - Comprehensive Coverage getPendingCDTs should fetch from DB when cache is empty" duration="5"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\cache.test.js">
    <testCase name="SimpleCache should set and get values with hits/misses" duration="40"/>
    <testCase name="SimpleCache should expire values after TTL" duration="39"/>
    <testCase name="SimpleCache should delete a value and return boolean" duration="10"/>
    <testCase name="SimpleCache should invalidate by pattern" duration="7"/>
    <testCase name="SimpleCache should compute metrics and reset them" duration="5"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\middlewares.test.js">
    <testCase name="Auth Middleware protect should authenticate user with valid token" duration="98"/>
    <testCase name="Auth Middleware protect should reject request without authorization header" duration="2"/>
    <testCase name="Auth Middleware protect should reject request with malformed authorization header" duration="8"/>
    <testCase name="Auth Middleware protect should reject request with invalid token" duration="7"/>
    <testCase name="Auth Middleware protect should reject if user not found in database" duration="13"/>
    <testCase name="Auth Middleware protect should reject if user is inactive" duration="6"/>
    <testCase name="Auth Middleware protect should handle database errors gracefully" duration="5"/>
    <testCase name="Auth Middleware restrictTo should allow access for authorized role" duration="1"/>
    <testCase name="Auth Middleware restrictTo should allow access for multiple authorized roles" duration="1"/>
    <testCase name="Auth Middleware restrictTo should deny access for unauthorized role" duration="1"/>
    <testCase name="Auth Middleware restrictTo should deny access when user is not authenticated" duration="1"/>
    <testCase name="Auth Middleware restrictTo should deny access when user has no role" duration="1"/>
    <testCase name="Error Handler Middleware should handle validation errors" duration="9"/>
    <testCase name="Error Handler Middleware should handle generic errors with status code" duration="3"/>
    <testCase name="Error Handler Middleware should handle errors without status code (500)" duration="3"/>
    <testCase name="Error Handler Middleware should include stack trace in development mode" duration="2"/>
    <testCase name="Error Handler Middleware should not include stack trace in production mode" duration="1"/>
    <testCase name="Error Handler Middleware should handle SQLite errors" duration="1"/>
    <testCase name="Error Handler Middleware should handle errors with explicit statusCode" duration="2"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\financialRules.test.js">
    <testCase name="financialRules validations validateCDTAmount should fail when below minimum" duration="245"/>
    <testCase name="financialRules validations validateCDTAmount should fail when above maximum" duration="24"/>
    <testCase name="financialRules validations validateCDTAmount should pass within range" duration="1"/>
    <testCase name="financialRules validations validateCDTTerm should fail when below minimum days" duration="1"/>
    <testCase name="financialRules validations validateCDTTerm should fail when above maximum days" duration="1"/>
    <testCase name="financialRules validations validateCDTTerm should pass within range" duration="4"/>
    <testCase name="financialRules validations validateInterestRate should fail below minimum" duration="1"/>
    <testCase name="financialRules validations validateInterestRate should fail above maximum" duration="3"/>
    <testCase name="financialRules validations validateInterestRate should pass within allowed range" duration="1"/>
    <testCase name="financialRules validations getRecommendedRate should recommend 1-3 months for &lt;= 90 days" duration="1"/>
    <testCase name="financialRules validations getRecommendedRate should recommend 4-6 months for &lt;= 180 days" duration="1"/>
    <testCase name="financialRules validations getRecommendedRate should recommend 7-12 months for &lt;= 360 days" duration="2"/>
    <testCase name="financialRules validations getRecommendedRate should recommend 13-24 months for &gt; 360 days" duration="7"/>
    <testCase name="financialRules validations validateDocumentNumber should validate CC format correctly" duration="39"/>
    <testCase name="financialRules validations validateDocumentNumber should validate CE format correctly" duration="13"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\cdtModel.test.js">
    <testCase name="CDT Model calculateReturn should calculate return correctly for simple case" duration="14"/>
    <testCase name="CDT Model calculateReturn should calculate return for 6 months" duration="2"/>
    <testCase name="CDT Model calculateReturn should calculate return for different interest rates" duration="10"/>
    <testCase name="CDT Model calculateReturn should return formatted number with 2 decimals" duration="1"/>
    <testCase name="CDT Model validateTransition should allow transition from draft to pending" duration="2"/>
    <testCase name="CDT Model validateTransition should allow transition from draft to cancelled" duration="1"/>
    <testCase name="CDT Model validateTransition should not allow transition from draft to active" duration="1"/>
    <testCase name="CDT Model validateTransition should allow transition from pending to active" duration="1"/>
    <testCase name="CDT Model validateTransition should allow transition from pending to rejected" duration="1"/>
    <testCase name="CDT Model validateTransition should not allow any transition from rejected" duration="0"/>
    <testCase name="CDT Model validateTransition should allow transition from active to completed" duration="1"/>
    <testCase name="CDT Model validateTransition should allow cancellation from most states" duration="2"/>
    <testCase name="CDT Model validateTransition should not allow transition from completed" duration="1"/>
    <testCase name="CDT Model validateTransition should not allow transition from cancelled" duration="7"/>
    <testCase name="CDT Model formatCDT should format CDT object correctly" duration="2"/>
    <testCase name="CDT Model formatCDT should return null for null input" duration="1"/>
    <testCase name="CDT Model formatCDT should handle missing optional fields" duration="13"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\authService.test.js">
    <testCase name="authService register should register user when email and document are unique" duration="14"/>
    <testCase name="authService register should throw 400 when email already exists" duration="3"/>
    <testCase name="authService register should throw 400 when document already exists" duration="3"/>
    <testCase name="authService login should authenticate user with valid credentials" duration="3"/>
    <testCase name="authService login should throw 401 when user not found" duration="1"/>
    <testCase name="authService login should throw 401 when password mismatch" duration="2"/>
    <testCase name="authService login should throw 403 when user inactive" duration="2"/>
    <testCase name="authService refreshAccessToken should issue new access token when refresh token valid" duration="413"/>
    <testCase name="authService refreshAccessToken should throw when refresh token missing" duration="1"/>
    <testCase name="authService refreshAccessToken should throw when refresh token invalid" duration="1"/>
    <testCase name="authService refreshAccessToken should throw 401 when stored refresh token mismatch" duration="2"/>
    <testCase name="authService logout should clear refresh token and cache" duration="1"/>
    <testCase name="authService getProfile should return cached profile when available" duration="1"/>
    <testCase name="authService getProfile should load profile from database and cache it" duration="2"/>
    <testCase name="authService getProfile should throw 404 when profile not found" duration="1"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\authControllerHandlers.test.js">
    <testCase name="authController handlers register should send fail response when service throws known error" duration="24"/>
    <testCase name="authController handlers register should forward unknown errors to next middleware" duration="2"/>
    <testCase name="authController handlers login should send fail response when service throws with status code" duration="24"/>
    <testCase name="authController handlers login should forward unexpected login errors" duration="3"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\cdtModel.additional.test.js">
    <testCase name="CDT Model - Additional Coverage findByUserId with filters should find CDTs with limit filter" duration="36"/>
    <testCase name="CDT Model - Additional Coverage findByUserId with filters should find CDTs with offset filter" duration="24"/>
    <testCase name="CDT Model - Additional Coverage findByUserId with filters should filter CDTs by status" duration="17"/>
    <testCase name="CDT Model - Additional Coverage findAll with filters should find all CDTs without filters" duration="265"/>
    <testCase name="CDT Model - Additional Coverage findAll with filters should filter by status" duration="28"/>
    <testCase name="CDT Model - Additional Coverage findAll with filters should filter by userId" duration="46"/>
    <testCase name="CDT Model - Additional Coverage findAll with filters should apply limit filter" duration="7"/>
    <testCase name="CDT Model - Additional Coverage update method should update CDT fields successfully" duration="14"/>
    <testCase name="CDT Model - Additional Coverage update method should return null when updating non-existent CDT" duration="4"/>
    <testCase name="CDT Model - Additional Coverage updateStatus method should update status successfully" duration="10"/>
    <testCase name="CDT Model - Additional Coverage updateStatus method should return false for invalid CDT ID" duration="102"/>
    <testCase name="CDT Model - Additional Coverage cancel method should cancel CDT with reason" duration="19"/>
    <testCase name="CDT Model - Additional Coverage deleteById method should delete CDT successfully" duration="14"/>
    <testCase name="CDT Model - Additional Coverage deleteById method should return false for non-existent CDT" duration="2"/>
    <testCase name="CDT Model - Additional Coverage findByStatus method should find all pending CDTs" duration="9"/>
    <testCase name="CDT Model - Additional Coverage findByStatus method should filter by userId" duration="4"/>
    <testCase name="CDT Model - Additional Coverage count method should count all CDTs" duration="52"/>
    <testCase name="CDT Model - Additional Coverage count method should count CDTs by status" duration="4"/>
    <testCase name="CDT Model - Additional Coverage count method should count CDTs by userId" duration="3"/>
    <testCase name="CDT Model - Additional Coverage createAuditLog method should add audit log entry" duration="8"/>
    <testCase name="CDT Model - Additional Coverage getAuditLogs method should retrieve audit log for CDT" duration="13"/>
    <testCase name="CDT Model - Additional Coverage getAuditLogs method should return empty array for CDT with no logs" duration="4"/>
    <testCase name="CDT Model - Additional Coverage validateTransition - edge cases should reject transition from active to draft" duration="2"/>
    <testCase name="CDT Model - Additional Coverage validateTransition - edge cases should reject transition from completed to active" duration="14"/>
    <testCase name="CDT Model - Additional Coverage validateTransition - edge cases should reject transition from cancelled to pending" duration="42"/>
    <testCase name="CDT Model - Additional Coverage validateTransition - edge cases should reject transition from rejected to active" duration="22"/>
    <testCase name="CDT Model - Additional Coverage validateTransition - edge cases should allow transition from draft to cancelled" duration="2"/>
    <testCase name="CDT Model - Additional Coverage validateTransition - edge cases should allow transition from pending to cancelled" duration="5"/>
    <testCase name="CDT Model - Additional Coverage validateTransition - edge cases should allow transition from active to cancelled" duration="16"/>
    <testCase name="CDT Model - Additional Coverage validateTransition - edge cases should allow transition from active to completed" duration="4"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\userModel.test.js">
    <testCase name="User Model formatUser should format user object correctly" duration="10"/>
    <testCase name="User Model formatUser should convert is_active 0 to false" duration="1"/>
    <testCase name="User Model formatUser should handle boolean is_active values" duration="0"/>
    <testCase name="User Model formatUser should return null for null input" duration="8"/>
    <testCase name="User Model formatUser should handle admin role" duration="4"/>
    <testCase name="User Model formatUser should exclude password field if present" duration="2"/>
    <testCase name="User Model formatUser should handle optional phone field" duration="1"/>
    <testCase name="User Model formatUser should handle optional document fields" duration="1"/>
    <testCase name="User Model User validation scenarios should recognize valid email format" duration="1"/>
    <testCase name="User Model User validation scenarios should handle different roles" duration="0"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\userModel.comprehensive.test.js">
    <testCase name="userModel - complete coverage findByEmail should find user by email" duration="17"/>
    <testCase name="userModel - complete coverage findByEmail should return null when user not found" duration="2"/>
    <testCase name="userModel - complete coverage findByEmail should include password when requested" duration="4"/>
    <testCase name="userModel - complete coverage findByDocument should find user by document" duration="2"/>
    <testCase name="userModel - complete coverage findByDocument should return null when document not found" duration="0"/>
    <testCase name="userModel - complete coverage findById should find user by id" duration="10"/>
    <testCase name="userModel - complete coverage findById should return null when id not found" duration="1"/>
    <testCase name="userModel - complete coverage create should create new user" duration="12"/>
    <testCase name="userModel - complete coverage create should handle optional fields in create" duration="3"/>
    <testCase name="userModel - complete coverage update should update user fields" duration="3"/>
    <testCase name="userModel - complete coverage update should return null when user not found for update" duration="1"/>
    <testCase name="userModel - complete coverage deleteById should delete user by id" duration="0"/>
    <testCase name="userModel - complete coverage deleteById should return false when user not found for deletion" duration="1"/>
    <testCase name="userModel - complete coverage findAll should return all users with pagination" duration="6"/>
    <testCase name="userModel - complete coverage findAll should filter by role" duration="1"/>
    <testCase name="userModel - complete coverage findAll should filter by isActive status" duration="1"/>
    <testCase name="userModel - complete coverage count should count all users" duration="1"/>
    <testCase name="userModel - complete coverage count should count users by role" duration="1"/>
    <testCase name="userModel - complete coverage count should count active users" duration="0"/>
    <testCase name="userModel - complete coverage count should count all users" duration="2"/>
    <testCase name="userModel - complete coverage count should count users by role" duration="26"/>
    <testCase name="userModel - complete coverage count should count active users" duration="2"/>
    <testCase name="userModel - complete coverage formatUser should format user object correctly" duration="2"/>
    <testCase name="userModel - complete coverage formatUser should exclude password from formatted user" duration="2"/>
    <testCase name="userModel - complete coverage formatUser should return null for null input" duration="1"/>
    <testCase name="userModel - complete coverage formatUser should handle missing optional fields" duration="3"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\userService.test.js">
    <testCase name="userService getUserById should return cached user if present" duration="10"/>
    <testCase name="userService getUserById should fetch user and cache if not cached" duration="3"/>
    <testCase name="userService getUserById should throw 404 if user not found" duration="5"/>
    <testCase name="userService updateUser should update and invalidate caches" duration="8"/>
    <testCase name="userService updateUser should throw 404 on update missing user" duration="5"/>
    <testCase name="userService updateMe should throw if email already in use by different user" duration="2"/>
    <testCase name="userService updateMe should update current user and clear cache" duration="4"/>
    <testCase name="userService updateMe should throw 404 if user not found on updateMe" duration="1"/>
    <testCase name="userService deleteUser should delete user and invalidate caches" duration="2"/>
    <testCase name="userService deleteUser should throw 404 if user not found on delete" duration="1"/>
    <testCase name="userService changePassword should throw 404 if user not found by email" duration="2"/>
    <testCase name="userService changePassword should throw 401 if current password invalid" duration="3"/>
    <testCase name="userService changePassword should return true on successful password change" duration="1"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\cdtAdminController.test.js">
    <testCase name="cdtAdminController - complete coverage getAllCDTs should get all CDTs with pagination" duration="48"/>
    <testCase name="cdtAdminController - complete coverage getAllCDTs should filter by status" duration="8"/>
    <testCase name="cdtAdminController - complete coverage getAllCDTs should filter by userId" duration="2"/>
    <testCase name="cdtAdminController - complete coverage getAllCDTs should forward errors to error handler" duration="9"/>
    <testCase name="cdtAdminController - complete coverage approveCDT should approve pending CDT" duration="4"/>
    <testCase name="cdtAdminController - complete coverage approveCDT should return 404 if CDT not found" duration="1"/>
    <testCase name="cdtAdminController - complete coverage approveCDT should reject if CDT is not pending" duration="2"/>
    <testCase name="cdtAdminController - complete coverage approveCDT should forward errors to error handler" duration="3"/>
    <testCase name="cdtAdminController - complete coverage rejectCDT should reject pending CDT with reason" duration="14"/>
    <testCase name="cdtAdminController - complete coverage rejectCDT should return 400 if reason is missing" duration="1"/>
    <testCase name="cdtAdminController - complete coverage rejectCDT should return 404 if CDT not found" duration="1"/>
    <testCase name="cdtAdminController - complete coverage rejectCDT should reject if CDT is not pending" duration="1"/>
    <testCase name="cdtAdminController - complete coverage rejectCDT should forward errors to error handler" duration="2"/>
    <testCase name="cdtAdminController - complete coverage forceDeleteCDT should force delete CDT" duration="2"/>
    <testCase name="cdtAdminController - complete coverage forceDeleteCDT should return 404 if CDT not found" duration="0"/>
    <testCase name="cdtAdminController - complete coverage forceDeleteCDT should forward errors to error handler" duration="1"/>
    <testCase name="cdtAdminController - complete coverage getCDTStats should return CDT statistics" duration="2"/>
    <testCase name="cdtAdminController - complete coverage getCDTStats should forward errors to error handler" duration="1"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\jwt.test.js">
    <testCase name="JWT Utils generateToken should generate a valid access token" duration="10"/>
    <testCase name="JWT Utils generateToken should include expiration in token" duration="4"/>
    <testCase name="JWT Utils generateRefreshToken should generate a valid refresh token" duration="3"/>
    <testCase name="JWT Utils generateRefreshToken should have longer expiration than access token" duration="8"/>
    <testCase name="JWT Utils verifyToken should verify valid access token" duration="6"/>
    <testCase name="JWT Utils verifyToken should throw error for invalid token" duration="24"/>
    <testCase name="JWT Utils verifyToken should throw error for expired token" duration="26"/>
    <testCase name="JWT Utils verifyRefreshToken should verify valid refresh token" duration="6"/>
    <testCase name="JWT Utils verifyRefreshToken should throw error for invalid refresh token" duration="2"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\userService.additional.test.js">
    <testCase name="UserService - Additional Coverage getAllUsers - Comprehensive Coverage should get all users with default pagination" duration="6"/>
    <testCase name="UserService - Additional Coverage getAllUsers - Comprehensive Coverage should get users filtered by role" duration="1"/>
    <testCase name="UserService - Additional Coverage getAllUsers - Comprehensive Coverage should get users filtered by isActive status" duration="2"/>
    <testCase name="UserService - Additional Coverage getAllUsers - Comprehensive Coverage should get users filtered by both role and isActive" duration="1"/>
    <testCase name="UserService - Additional Coverage getAllUsers - Comprehensive Coverage should handle isActive=false explicitly" duration="3"/>
    <testCase name="UserService - Additional Coverage getAllUsers - Comprehensive Coverage should calculate pagination correctly for multiple pages" duration="2"/>
    <testCase name="UserService - Additional Coverage getAllUsers - Comprehensive Coverage should return cached data if available" duration="2"/>
    <testCase name="UserService - Additional Coverage getAllUsers - Comprehensive Coverage should set cache after fetching from database" duration="2"/>
    <testCase name="UserService - Additional Coverage getAllUsers - Comprehensive Coverage should create unique cache keys for different filters" duration="1"/>
    <testCase name="UserService - Additional Coverage getAllUsers - Comprehensive Coverage should handle empty user list" duration="2"/>
    <testCase name="UserService - Additional Coverage updateMe - Email Validation should update user profile when email not in use" duration="2"/>
    <testCase name="UserService - Additional Coverage updateMe - Email Validation should throw error when email already in use by another user" duration="2"/>
    <testCase name="UserService - Additional Coverage updateMe - Email Validation should allow updating email to same email (same user)" duration="1"/>
    <testCase name="UserService - Additional Coverage updateMe - Email Validation should throw 404 when user not found in updateMe" duration="1"/>
    <testCase name="UserService - Additional Coverage updateMe - Email Validation should update only name without checking email" duration="1"/>
    <testCase name="UserService - Additional Coverage updateUser - Admin Update should update user with all fields including role and isActive" duration="4"/>
    <testCase name="UserService - Additional Coverage updateUser - Admin Update should handle isActive true conversion" duration="0"/>
    <testCase name="UserService - Additional Coverage updateUser - Admin Update should throw 404 when user not found in updateUser" duration="0"/>
    <testCase name="UserService - Additional Coverage deleteUser - Cascade Invalidation should delete user and invalidate all related caches" duration="2"/>
    <testCase name="UserService - Additional Coverage deleteUser - Cascade Invalidation should throw 404 when user not found in deleteUser" duration="0"/>
    <testCase name="UserService - Additional Coverage changePassword - Validation should change password with valid current password" duration="1"/>
    <testCase name="UserService - Additional Coverage changePassword - Validation should throw 404 when user not found in changePassword" duration="1"/>
    <testCase name="UserService - Additional Coverage changePassword - Validation should throw 401 when current password is incorrect" duration="1"/>
    <testCase name="UserService - Additional Coverage getMe - Current User Profile should get current user profile without cache" duration="1"/>
    <testCase name="UserService - Additional Coverage getMe - Current User Profile should throw 404 when user not found in getMe" duration="1"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\database.comprehensive.test.js">
    <testCase name="Database Configuration Module connectDB should successfully connect to database and initialize tables" duration="12"/>
    <testCase name="Database Configuration Module connectDB should create database directory if it does not exist" duration="2"/>
    <testCase name="Database Configuration Module connectDB should create backup directory if configured and does not exist" duration="4"/>
    <testCase name="Database Configuration Module connectDB should not create backup directory if dbBackupPath is null" duration="2"/>
    <testCase name="Database Configuration Module connectDB should enable verbose logging in development mode" duration="4"/>
    <testCase name="Database Configuration Module connectDB should disable verbose logging in non-development environments" duration="2"/>
    <testCase name="Database Configuration Module connectDB should handle database connection errors and exit process" duration="43"/>
    <testCase name="Database Configuration Module connectDB should initialize users table with correct schema" duration="4"/>
    <testCase name="Database Configuration Module connectDB should initialize cdts table with correct schema" duration="3"/>
    <testCase name="Database Configuration Module connectDB should create cdt_audit_logs table" duration="2"/>
    <testCase name="Database Configuration Module connectDB should create basic indexes for performance" duration="3"/>
    <testCase name="Database Configuration Module connectDB should create composite security indexes" duration="5"/>
    <testCase name="Database Configuration Module connectDB should log initialization details" duration="1"/>
    <testCase name="Database Configuration Module getDB should return database instance after connection" duration="2"/>
    <testCase name="Database Configuration Module getDB should throw error if database not initialized" duration="2"/>
    <testCase name="Database Configuration Module closeDB should close database connection if open" duration="2"/>
    <testCase name="Database Configuration Module closeDB should not error if database is already closed" duration="5"/>
    <testCase name="Database Configuration Module createBackup should create backup with timestamp in filename" duration="4"/>
    <testCase name="Database Configuration Module createBackup should log successful backup" duration="2"/>
    <testCase name="Database Configuration Module createBackup should handle backup errors gracefully" duration="1"/>
    <testCase name="Database Configuration Module createBackup should not create backup if database not initialized" duration="14"/>
    <testCase name="Database Configuration Module createBackup should catch synchronous backup creation errors" duration="3"/>
    <testCase name="Database Configuration Module Edge Cases and Error Handling should handle mkdir errors other than ENOENT" duration="5"/>
    <testCase name="Database Configuration Module Edge Cases and Error Handling should handle pragma execution errors" duration="4"/>
    <testCase name="Database Configuration Module Edge Cases and Error Handling should handle table initialization errors" duration="4"/>
    <testCase name="Database Configuration Module Database State Management should maintain single database instance across calls" duration="6"/>
    <testCase name="Database Configuration Module Database State Management should allow reconnection after close" duration="2"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\errorHandler.test.js">
    <testCase name="errorHandler - complete coverage should handle validation errors with 400" duration="15"/>
    <testCase name="errorHandler - complete coverage should handle JWT errors as 401" duration="3"/>
    <testCase name="errorHandler - complete coverage should handle TokenExpiredError as 401" duration="2"/>
    <testCase name="errorHandler - complete coverage should handle SQLite UNIQUE constraint errors as 400" duration="3"/>
    <testCase name="errorHandler - complete coverage should handle CSRF token errors as 403" duration="11"/>
    <testCase name="errorHandler - complete coverage should include stack trace in development mode" duration="1"/>
    <testCase name="errorHandler - complete coverage should not include stack trace in production" duration="3"/>
    <testCase name="errorHandler - complete coverage should use custom statusCode from error" duration="2"/>
    <testCase name="errorHandler - complete coverage should default to 500 for unknown errors" duration="3"/>
    <testCase name="errorHandler - complete coverage should log error details" duration="2"/>
    <testCase name="errorHandler - complete coverage should handle errors without message" duration="3"/>
    <testCase name="errorHandler - complete coverage should handle rate limit errors" duration="1"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\userController.test.js">
    <testCase name="userController getAllUsers should return paginated users" duration="18"/>
    <testCase name="userController getAllUsers should forward errors to next" duration="16"/>
    <testCase name="userController getUserById should respond with user when found" duration="4"/>
    <testCase name="userController getUserById should return 404 when user missing" duration="5"/>
    <testCase name="userController getUserById should forward thrown errors" duration="5"/>
    <testCase name="userController updateUser should update user successfully" duration="3"/>
    <testCase name="userController updateUser should respond 404 when update returns null" duration="2"/>
    <testCase name="userController updateUser should forward errors on update failure" duration="2"/>
    <testCase name="userController deleteUser should respond 204 when delete succeeds" duration="7"/>
    <testCase name="userController deleteUser should return 404 when nothing deleted" duration="2"/>
    <testCase name="userController deleteUser should forward errors on delete exception" duration="2"/>
    <testCase name="userController getMe should return authenticated user data" duration="2"/>
    <testCase name="userController getMe should respond 404 when user missing" duration="6"/>
    <testCase name="userController getMe should forward errors from model" duration="4"/>
    <testCase name="userController updateMe should respond 404 when user not found" duration="2"/>
    <testCase name="userController updateMe should update profile when validation passes" duration="1"/>
    <testCase name="userController updateMe should return 404 when updateMe finds no user" duration="2"/>
    <testCase name="userController updateMe should forward errors thrown during update" duration="3"/>
    <testCase name="userController changePassword should return 400 when fields missing" duration="2"/>
    <testCase name="userController changePassword should return 400 when new password is too short" duration="1"/>
    <testCase name="userController changePassword should return 401 when current password invalid" duration="2"/>
    <testCase name="userController changePassword should update password when credentials valid" duration="2"/>
    <testCase name="userController changePassword should forward unexpected errors" duration="1"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\asyncHandler.comprehensive.test.js">
    <testCase name="AsyncHandler Utility - Comprehensive Coverage asyncHandler - Main Wrapper should execute async function successfully" duration="7"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage asyncHandler - Main Wrapper should handle errors with statusCode" duration="47"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage asyncHandler - Main Wrapper should pass errors without statusCode to next middleware" duration="13"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage asyncHandler - Main Wrapper should redact sensitive body for password actions" duration="2"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage asyncHandler - Main Wrapper should redact sensitive body for login actions" duration="1"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage asyncHandler - Main Wrapper should include non-sensitive body for non-password actions" duration="10"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage asyncHandler - Main Wrapper should handle request without user" duration="3"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage asyncHandler - Main Wrapper should handle request without get method" duration="11"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage asyncHandler - Main Wrapper should include timestamp in error log" duration="6"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage sendSuccess - Helper Function should send success response with default status 200" duration="4"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage sendSuccess - Helper Function should send success response with custom status code" duration="2"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage sendSuccess - Helper Function should include metadata in response" duration="2"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage sendSuccess - Helper Function should handle empty data" duration="4"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage sendSuccess - Helper Function should handle null data" duration="15"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage sendSuccess - Helper Function should handle array data" duration="2"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage sendCreated - Helper Function should send 201 created response" duration="4"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage sendCreated - Helper Function should include metadata in created response" duration="11"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage sendCreated - Helper Function should handle empty metadata" duration="1"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage sendError - Helper Function should send error response with default status 400" duration="34"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage sendError - Helper Function should send error response with custom status code" duration="9"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage sendError - Helper Function should include validation errors" duration="4"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage sendError - Helper Function should not include errors field when errors is null" duration="10"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage sendError - Helper Function should handle empty errors array" duration="16"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage Edge Cases and Integration should handle multiple async operations" duration="1"/>
    <testCase name="AsyncHandler Utility - Comprehensive Coverage Edge Cases and Integration should handle errors with additional properties" duration="11"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\app.test.js">
    <testCase name="Express App should return welcome payload on root endpoint" duration="115"/>
    <testCase name="Express App should expose health metrics" duration="25"/>
    <testCase name="Express App should provide CSRF token for clients" duration="35"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\cdtHelpers.test.js">
    <testCase name="cdtHelpers calculateEndDate should add months correctly" duration="4"/>
    <testCase name="cdtHelpers hasAccessPermission should allow owner or admin" duration="1"/>
    <testCase name="cdtHelpers canModifyCDT mirrors access rules (owner/admin)" duration="1"/>
    <testCase name="cdtHelpers isEditable only draft or pending" duration="1"/>
    <testCase name="cdtHelpers isDeletable only draft or cancelled" duration="1"/>
    <testCase name="cdtHelpers formatPaginationFilters should build filters and metadata" duration="4"/>
    <testCase name="cdtHelpers createPaginatedResponse builds standard response" duration="1"/>
    <testCase name="cdtHelpers validateCDTUpdates enforces allowed fields and non-empty" duration="2"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\logger.comprehensive.test.js">
    <testCase name="Logger Utility - Comprehensive Coverage logDatabase should log database operation with details" duration="6"/>
    <testCase name="Logger Utility - Comprehensive Coverage logDatabase should log database operation without details" duration="4"/>
    <testCase name="Logger Utility - Comprehensive Coverage logDatabase should log database operation with empty details object" duration="1"/>
    <testCase name="Logger Utility - Comprehensive Coverage logDatabase should handle complex details object" duration="1"/>
    <testCase name="Logger Utility - Comprehensive Coverage logAuth should log authentication event with details" duration="1"/>
    <testCase name="Logger Utility - Comprehensive Coverage logAuth should log authentication event without details" duration="0"/>
    <testCase name="Logger Utility - Comprehensive Coverage logAuth should log various auth events" duration="2"/>
    <testCase name="Logger Utility - Comprehensive Coverage logRequest should log API request with user information" duration="1"/>
    <testCase name="Logger Utility - Comprehensive Coverage logRequest should log API request without user (unauthenticated)" duration="2"/>
    <testCase name="Logger Utility - Comprehensive Coverage logRequest should handle various HTTP methods" duration="1"/>
    <testCase name="Logger Utility - Comprehensive Coverage logRequest should handle requests with query parameters" duration="2"/>
    <testCase name="Logger Utility - Comprehensive Coverage logRequest should handle requests with IPv6 addresses" duration="1"/>
    <testCase name="Logger Utility - Comprehensive Coverage logRequest should handle missing ip gracefully" duration="1"/>
    <testCase name="Logger Utility - Comprehensive Coverage Logger Integration should handle rapid sequential logging" duration="1"/>
    <testCase name="Logger Utility - Comprehensive Coverage Logger Integration should handle edge case with null details" duration="1"/>
    <testCase name="Logger Utility - Comprehensive Coverage Logger Integration should handle special characters in operation names" duration="0"/>
    <testCase name="Logger Utility - Comprehensive Coverage Logger Configuration should create logger with correct configuration" duration="2"/>
    <testCase name="Logger Utility - Comprehensive Coverage Logger Configuration should export logger functions correctly" duration="2"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\validators\userValidatorNew.test.js">
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de name Debería aceptar nombre válido (2-50 caracteres)" duration="414"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de name Debería aceptar nombre mínimo (2 caracteres)" duration="97"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de name Debería aceptar nombre máximo (50 caracteres)" duration="18"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de name Debería aceptar nombre con tildes y eñes" duration="19"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de name Debería aceptar nombre con espacios múltiples" duration="32"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de name Debería trimear espacios al inicio y final" duration="27"/>
    <testCase name="userValidatorNew - validateUpdateUser ❌ Validaciones de name Debería rechazar nombre muy corto (1 carácter)" duration="32"/>
    <testCase name="userValidatorNew - validateUpdateUser ❌ Validaciones de name Debería rechazar nombre muy largo (&gt;50 caracteres)" duration="22"/>
    <testCase name="userValidatorNew - validateUpdateUser ❌ Validaciones de name Debería rechazar nombre con números" duration="33"/>
    <testCase name="userValidatorNew - validateUpdateUser ❌ Validaciones de name Debería rechazar nombre con caracteres especiales" duration="61"/>
    <testCase name="userValidatorNew - validateUpdateUser ❌ Validaciones de name Debería rechazar nombre con guiones" duration="27"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de email Debería aceptar email válido" duration="22"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de email Debería normalizar email (lowercase)" duration="19"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de email Debería aceptar email con subdominios" duration="17"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de email Debería aceptar email con números" duration="16"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de email Debería trimear espacios del email" duration="18"/>
    <testCase name="userValidatorNew - validateUpdateUser ❌ Validaciones de email Debería rechazar email sin @" duration="31"/>
    <testCase name="userValidatorNew - validateUpdateUser ❌ Validaciones de email Debería rechazar email sin dominio" duration="20"/>
    <testCase name="userValidatorNew - validateUpdateUser ❌ Validaciones de email Debería rechazar email sin usuario" duration="18"/>
    <testCase name="userValidatorNew - validateUpdateUser ❌ Validaciones de email Debería rechazar email con espacios internos" duration="14"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de role Debería aceptar role: user" duration="32"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de role Debería aceptar role: admin" duration="64"/>
    <testCase name="userValidatorNew - validateUpdateUser ❌ Validaciones de role Debería rechazar role inválido" duration="74"/>
    <testCase name="userValidatorNew - validateUpdateUser ❌ Validaciones de role Debería rechazar role vacío" duration="11"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de isActive Debería aceptar isActive: true" duration="34"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de isActive Debería aceptar isActive: false" duration="17"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de isActive Debería convertir &quot;true&quot; string a booleano" duration="52"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de isActive Debería convertir &quot;false&quot; string a booleano" duration="18"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de isActive Debería convertir 1 a true" duration="13"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones exitosas de isActive Debería convertir 0 a false" duration="20"/>
    <testCase name="userValidatorNew - validateUpdateUser ❌ Validaciones de isActive Debería rechazar isActive con string inválido" duration="14"/>
    <testCase name="userValidatorNew - validateUpdateUser ❌ Validaciones de isActive Debería rechazar isActive con número inválido" duration="22"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones de múltiples campos Debería aceptar actualización de todos los campos" duration="12"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones de múltiples campos Debería aceptar body vacío (sin campos opcionales)" duration="13"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones de múltiples campos Debería aceptar actualización parcial (solo name)" duration="22"/>
    <testCase name="userValidatorNew - validateUpdateUser ✅ Validaciones de múltiples campos Debería aceptar actualización parcial (email y role)" duration="14"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones exitosas de query params Debería aceptar parámetros válidos completos" duration="46"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones exitosas de query params Debería aceptar sin query params (todos opcionales)" duration="18"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones exitosas de query params Debería aceptar solo page" duration="14"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones exitosas de query params Debería aceptar solo limit" duration="15"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones exitosas de query params Debería aceptar page y limit máximos" duration="9"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de page Debería aceptar page = 1 (mínimo)" duration="16"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de page Debería rechazar page = 0" duration="26"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de page Debería rechazar page negativo" duration="33"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de page Debería rechazar page con decimales" duration="19"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de limit Debería aceptar limit = 1 (mínimo)" duration="14"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de limit Debería aceptar limit = 100 (máximo)" duration="12"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de limit Debería rechazar limit = 0" duration="25"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de limit Debería rechazar limit &gt; 100" duration="16"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de limit Debería rechazar limit negativo" duration="38"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de role Debería aceptar role = user" duration="29"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de role Debería aceptar role = admin" duration="18"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de role Debería rechazar role inválido" duration="23"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de isActive Debería aceptar isActive = true" duration="19"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de isActive Debería aceptar isActive = false" duration="48"/>
    <testCase name="userValidatorNew - validateUserFilters ✅ Validaciones de isActive Debería rechazar isActive inválido" duration="19"/>
    <testCase name="userValidatorNew - handleValidationErrors Debería manejar errores de validación correctamente" duration="37"/>
    <testCase name="userValidatorNew - handleValidationErrors Debería retornar estructura de error correcta" duration="27"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\adminMiddleware.test.js">
    <testCase name="adminMiddleware should reject request without authenticated user" duration="14"/>
    <testCase name="adminMiddleware should reject request when user lacks admin role" duration="2"/>
    <testCase name="adminMiddleware should call next when user is admin" duration="1"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\validators\cdtValidatorNew.test.js">
    <testCase name="cdtValidatorNew - validateCreateCDT ✅ Validaciones exitosas Debería aceptar un CDT válido con todos los campos" duration="232"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ✅ Validaciones exitosas Debería aceptar CDT con campos opcionales omitidos" duration="33"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ✅ Validaciones exitosas Debería aceptar monto mínimo (500,000)" duration="19"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ✅ Validaciones exitosas Debería aceptar monto máximo (500,000,000)" duration="29"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ✅ Validaciones exitosas Debería aceptar plazo mínimo (30 días)" duration="19"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ✅ Validaciones exitosas Debería aceptar plazo máximo (730 días)" duration="19"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ✅ Validaciones exitosas Debería aceptar tasa mínima (0.5%)" duration="31"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ✅ Validaciones exitosas Debería aceptar tasa máxima (9.5%)" duration="19"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ✅ Validaciones exitosas Debería aceptar renovationOption: capital" duration="94"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ✅ Validaciones exitosas Debería aceptar renovationOption: capital_interest" duration="19"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ✅ Validaciones exitosas Debería aceptar renovationOption: auto" duration="45"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ✅ Validaciones exitosas Debería aceptar fecha de inicio dentro del rango permitido (15 días)" duration="18"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de amount Debería rechazar monto vacío" duration="26"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de amount Debería rechazar monto menor al mínimo (499,999)" duration="34"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de amount Debería rechazar monto mayor al máximo (500,000,001)" duration="36"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de amount Debería rechazar monto con formato inválido (string)" duration="40"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de amount Debería rechazar monto negativo" duration="29"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de amount Debería rechazar monto igual a cero" duration="15"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de termDays Debería rechazar plazo vacío" duration="39"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de termDays Debería rechazar plazo menor al mínimo (29 días)" duration="27"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de termDays Debería rechazar plazo mayor al máximo (731 días)" duration="21"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de termDays Debería rechazar plazo con decimales" duration="18"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de termDays Debería rechazar plazo negativo" duration="29"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de interestRate Debería rechazar tasa vacía" duration="20"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de interestRate Debería rechazar tasa menor al mínimo (0.4%)" duration="69"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de interestRate Debería rechazar tasa mayor al máximo (9.6%)" duration="18"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de interestRate Debería rechazar tasa negativa" duration="28"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de interestRate Debería rechazar tasa igual a cero" duration="18"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de startDate Debería rechazar fecha en el pasado" duration="13"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de startDate Debería rechazar fecha más de 30 días en el futuro" duration="36"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de startDate Debería rechazar formato de fecha inválido" duration="18"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de renovationOption Debería rechazar renovationOption inválida" duration="67"/>
    <testCase name="cdtValidatorNew - validateCreateCDT ❌ Validaciones de renovationOption Debería rechazar renovationOption vacía" duration="17"/>
    <testCase name="cdtValidatorNew - validateUpdateCDT ✅ Validaciones exitosas Debería aceptar actualización de amount válido" duration="41"/>
    <testCase name="cdtValidatorNew - validateUpdateCDT ✅ Validaciones exitosas Debería aceptar actualización de termDays válido" duration="17"/>
    <testCase name="cdtValidatorNew - validateUpdateCDT ✅ Validaciones exitosas Debería aceptar actualización de interestRate válido" duration="18"/>
    <testCase name="cdtValidatorNew - validateUpdateCDT ✅ Validaciones exitosas Debería aceptar actualización de múltiples campos" duration="13"/>
    <testCase name="cdtValidatorNew - validateUpdateCDT ✅ Validaciones exitosas Debería aceptar body vacío (sin campos a actualizar)" duration="10"/>
    <testCase name="cdtValidatorNew - validateUpdateCDT ❌ Validaciones de campos Debería rechazar amount inválido en actualización" duration="17"/>
    <testCase name="cdtValidatorNew - validateUpdateCDT ❌ Validaciones de campos Debería rechazar termDays inválido en actualización" duration="31"/>
    <testCase name="cdtValidatorNew - validateUpdateCDT ❌ Validaciones de campos Debería rechazar interestRate inválido en actualización" duration="31"/>
    <testCase name="cdtValidatorNew - validateChangeStatus ✅ Validaciones exitosas Debería aceptar status: pending" duration="13"/>
    <testCase name="cdtValidatorNew - validateChangeStatus ✅ Validaciones exitosas Debería aceptar status: active" duration="13"/>
    <testCase name="cdtValidatorNew - validateChangeStatus ✅ Validaciones exitosas Debería aceptar status: completed" duration="33"/>
    <testCase name="cdtValidatorNew - validateChangeStatus ✅ Validaciones exitosas Debería aceptar status: cancelled con reason" duration="11"/>
    <testCase name="cdtValidatorNew - validateChangeStatus ✅ Validaciones exitosas Debería aceptar status: rejected con reason" duration="11"/>
    <testCase name="cdtValidatorNew - validateChangeStatus ❌ Validaciones de status Debería rechazar status vacío" duration="17"/>
    <testCase name="cdtValidatorNew - validateChangeStatus ❌ Validaciones de status Debería rechazar status inválido" duration="20"/>
    <testCase name="cdtValidatorNew - validateChangeStatus ❌ Validaciones de status Debería rechazar reason muy larga (&gt;500 caracteres)" duration="28"/>
    <testCase name="cdtValidatorNew - validateCancelCDT ✅ Validaciones exitosas Debería aceptar reason válida (10-500 caracteres)" duration="15"/>
    <testCase name="cdtValidatorNew - validateCancelCDT ✅ Validaciones exitosas Debería aceptar reason con longitud mínima (10 caracteres)" duration="19"/>
    <testCase name="cdtValidatorNew - validateCancelCDT ✅ Validaciones exitosas Debería aceptar reason con longitud máxima (500 caracteres)" duration="18"/>
    <testCase name="cdtValidatorNew - validateCancelCDT ❌ Validaciones de reason Debería rechazar reason vacía" duration="26"/>
    <testCase name="cdtValidatorNew - validateCancelCDT ❌ Validaciones de reason Debería rechazar reason muy corta (&lt;10 caracteres)" duration="17"/>
    <testCase name="cdtValidatorNew - validateCancelCDT ❌ Validaciones de reason Debería rechazar reason muy larga (&gt;500 caracteres)" duration="19"/>
    <testCase name="cdtValidatorNew - validateCDTFilters ✅ Validaciones exitosas Debería aceptar parámetros válidos" duration="36"/>
    <testCase name="cdtValidatorNew - validateCDTFilters ✅ Validaciones exitosas Debería aceptar sin query params (opcionales)" duration="19"/>
    <testCase name="cdtValidatorNew - validateCDTFilters ✅ Validaciones exitosas Debería aceptar page y limit máximos" duration="30"/>
    <testCase name="cdtValidatorNew - validateCDTFilters ✅ Validaciones exitosas Debería aceptar cada status válido" duration="134"/>
    <testCase name="cdtValidatorNew - validateCDTFilters ❌ Validaciones de query params Debería rechazar page menor a 1" duration="20"/>
    <testCase name="cdtValidatorNew - validateCDTFilters ❌ Validaciones de query params Debería rechazar limit menor a 1" duration="14"/>
    <testCase name="cdtValidatorNew - validateCDTFilters ❌ Validaciones de query params Debería rechazar limit mayor a 100" duration="22"/>
    <testCase name="cdtValidatorNew - validateCDTFilters ❌ Validaciones de query params Debería rechazar status inválido" duration="14"/>
    <testCase name="cdtValidatorNew - handleValidationErrors Debería manejar múltiples errores y retornar el primero" duration="27"/>
    <testCase name="cdtValidatorNew - handleValidationErrors Debería retornar estructura de error correcta" duration="19"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\validators\authValidatorNew.test.js">
    <testCase name="authValidatorNew - validateRegister ✅ Validaciones exitosas - Registro CC Debería aceptar registro completo con CC" duration="275"/>
    <testCase name="authValidatorNew - validateRegister ✅ Validaciones exitosas - Registro CC Debería aceptar registro mínimo (sin documento)" duration="26"/>
    <testCase name="authValidatorNew - validateRegister ✅ Validaciones exitosas - Registro CC Debería normalizar email a lowercase" duration="24"/>
    <testCase name="authValidatorNew - validateRegister ✅ Validaciones exitosas - Registro CE Debería aceptar registro completo con CE" duration="27"/>
    <testCase name="authValidatorNew - validateRegister ✅ Validaciones exitosas - Registro CE Debería aceptar CE con 9 dígitos" duration="25"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de name Debería rechazar nombre vacío" duration="65"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de name Debería rechazar nombre muy corto (&lt;2 caracteres)" duration="15"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de name Debería rechazar nombre muy largo (&gt;100 caracteres)" duration="17"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de name Debería rechazar nombre con números" duration="27"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de name Debería rechazar nombre con caracteres especiales" duration="18"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de name Debería aceptar nombre con tildes y eñes" duration="22"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de email Debería rechazar email vacío" duration="16"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de email Debería rechazar email sin @" duration="31"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de email Debería rechazar email muy largo (&gt;100 caracteres)" duration="30"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de documentType Debería rechazar tipo de documento inválido" duration="55"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de documentNumber CC Debería rechazar CC con menos de 7 dígitos" duration="25"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de documentNumber CC Debería rechazar CC con más de 10 dígitos" duration="34"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de documentNumber CC Debería rechazar CC con letras" duration="24"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de documentNumber CE Debería rechazar CE con menos de 6 dígitos" duration="85"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de documentNumber CE Debería rechazar CE con más de 9 dígitos" duration="47"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de phone Debería rechazar teléfono que no inicia con 3" duration="112"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de phone Debería rechazar teléfono con menos de 10 dígitos" duration="24"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de phone Debería rechazar teléfono con más de 10 dígitos" duration="26"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones condicionales CE Debería rechazar CE sin nationality" duration="14"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones condicionales CE Debería rechazar CE sin residenceDate" duration="26"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones condicionales CE Debería rechazar nationality muy corta (&lt;3 caracteres)" duration="22"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones condicionales CE Debería rechazar nationality muy larga (&gt;50 caracteres)" duration="30"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones condicionales CE Debería rechazar residenceDate con formato inválido" duration="19"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de password Debería rechazar password vacía" duration="17"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de password Debería rechazar password muy corta (&lt;8 caracteres)" duration="20"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de password Debería rechazar password muy larga (&gt;128 caracteres)" duration="44"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de password Debería rechazar password sin mayúscula" duration="14"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de password Debería rechazar password sin minúscula" duration="21"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de password Debería rechazar password sin número" duration="17"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de confirmPassword Debería rechazar confirmPassword vacía" duration="34"/>
    <testCase name="authValidatorNew - validateRegister ❌ Validaciones de confirmPassword Debería rechazar cuando confirmPassword no coincide" duration="16"/>
    <testCase name="authValidatorNew - validateLogin ✅ Validaciones exitosas Debería aceptar login con email" duration="14"/>
    <testCase name="authValidatorNew - validateLogin ✅ Validaciones exitosas Debería aceptar login con CC" duration="16"/>
    <testCase name="authValidatorNew - validateLogin ✅ Validaciones exitosas Debería aceptar login con CE" duration="20"/>
    <testCase name="authValidatorNew - validateLogin ❌ Validaciones de credenciales Debería rechazar login sin email ni documento (cuando se proporciona documentNumber sin email)" duration="31"/>
    <testCase name="authValidatorNew - validateLogin ❌ Validaciones de credenciales Debería rechazar email inválido" duration="17"/>
    <testCase name="authValidatorNew - validateLogin ❌ Validaciones de credenciales Debería rechazar documentType inválido" duration="16"/>
    <testCase name="authValidatorNew - validateLogin ❌ Validaciones de credenciales Debería rechazar CC con formato inválido" duration="16"/>
    <testCase name="authValidatorNew - validateLogin ❌ Validaciones de credenciales Debería rechazar CE con formato inválido" duration="16"/>
    <testCase name="authValidatorNew - validateLogin ❌ Validaciones de password Debería rechazar password vacía" duration="28"/>
    <testCase name="authValidatorNew - validateLogin ❌ Validaciones de password Debería rechazar password muy corta" duration="16"/>
    <testCase name="authValidatorNew - validateUpdateProfile ✅ Validaciones exitosas Debería aceptar actualización de todos los campos" duration="37"/>
    <testCase name="authValidatorNew - validateUpdateProfile ✅ Validaciones exitosas Debería aceptar actualización parcial" duration="27"/>
    <testCase name="authValidatorNew - validateUpdateProfile ✅ Validaciones exitosas Debería aceptar body vacío (sin actualizaciones)" duration="37"/>
    <testCase name="authValidatorNew - validateUpdateProfile ❌ Validaciones de campos Debería rechazar name inválido" duration="21"/>
    <testCase name="authValidatorNew - validateUpdateProfile ❌ Validaciones de campos Debería rechazar email inválido" duration="13"/>
    <testCase name="authValidatorNew - validateUpdateProfile ❌ Validaciones de campos Debería rechazar documentType inválido" duration="18"/>
    <testCase name="authValidatorNew - validateUpdateProfile ❌ Validaciones de campos Debería rechazar phone inválido" duration="32"/>
    <testCase name="authValidatorNew - validateUpdateProfile ❌ Validaciones de campos Debería rechazar nationality muy corta" duration="16"/>
    <testCase name="authValidatorNew - validateUpdateProfile ❌ Validaciones de campos Debería rechazar residenceDate con formato inválido" duration="17"/>
    <testCase name="authValidatorNew - validateChangePassword ✅ Validaciones exitosas Debería aceptar cambio de contraseña válido" duration="17"/>
    <testCase name="authValidatorNew - validateChangePassword ❌ Validaciones de currentPassword Debería rechazar currentPassword vacía" duration="23"/>
    <testCase name="authValidatorNew - validateChangePassword ❌ Validaciones de newPassword Debería rechazar newPassword vacía" duration="22"/>
    <testCase name="authValidatorNew - validateChangePassword ❌ Validaciones de newPassword Debería rechazar newPassword muy corta" duration="26"/>
    <testCase name="authValidatorNew - validateChangePassword ❌ Validaciones de newPassword Debería rechazar newPassword sin mayúscula" duration="12"/>
    <testCase name="authValidatorNew - validateChangePassword ❌ Validaciones de newPassword Debería rechazar newPassword igual a currentPassword" duration="25"/>
    <testCase name="authValidatorNew - validateChangePassword ❌ Validaciones de confirmPassword Debería rechazar confirmPassword vacía" duration="10"/>
    <testCase name="authValidatorNew - validateChangePassword ❌ Validaciones de confirmPassword Debería rechazar cuando confirmPassword no coincide" duration="11"/>
    <testCase name="authValidatorNew - validateRefreshToken ✅ Validaciones exitosas Debería aceptar refresh token JWT válido" duration="13"/>
    <testCase name="authValidatorNew - validateRefreshToken ❌ Validaciones de refreshToken Debería rechazar refreshToken vacío" duration="15"/>
    <testCase name="authValidatorNew - validateRefreshToken ❌ Validaciones de refreshToken Debería rechazar refreshToken que no es JWT" duration="16"/>
    <testCase name="authValidatorNew - validateRefreshToken ❌ Validaciones de refreshToken Debería rechazar refreshToken con formato JWT incompleto" duration="26"/>
    <testCase name="authValidatorNew - handleValidationErrors Debería manejar múltiples errores correctamente" duration="32"/>
    <testCase name="authValidatorNew - handleValidationErrors Debería retornar estructura de error correcta" duration="27"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\cacheController.test.js">
    <testCase name="cacheController getCacheMetrics should return cache metrics successfully" duration="9"/>
    <testCase name="cacheController getCacheMetrics should pass errors to next handler" duration="18"/>
    <testCase name="cacheController clearCache should clear cache and respond 200" duration="6"/>
    <testCase name="cacheController clearCache should forward errors when clear fails" duration="2"/>
    <testCase name="cacheController invalidateCachePattern should return 400 when pattern missing" duration="1"/>
    <testCase name="cacheController invalidateCachePattern should invalidate cache pattern and return success" duration="2"/>
    <testCase name="cacheController invalidateCachePattern should forward errors when invalidation fails" duration="2"/>
    <testCase name="cacheController resetCacheMetrics should reset metrics and return success" duration="2"/>
    <testCase name="cacheController resetCacheMetrics should forward errors when reset fails" duration="2"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\integration\cdtController.test.js">
    <testCase name="CDT Controller Integration Tests POST /api/cdts should create a new CDT with valid data" duration="181"/>
    <testCase name="CDT Controller Integration Tests POST /api/cdts should reject CDT creation without authentication" duration="40"/>
    <testCase name="CDT Controller Integration Tests POST /api/cdts should reject CDT with amount below minimum (500k)" duration="30"/>
    <testCase name="CDT Controller Integration Tests POST /api/cdts should reject CDT with amount above maximum (500M)" duration="22"/>
    <testCase name="CDT Controller Integration Tests POST /api/cdts should reject CDT with invalid term months" duration="26"/>
    <testCase name="CDT Controller Integration Tests POST /api/cdts should reject CDT with missing required fields" duration="30"/>
    <testCase name="CDT Controller Integration Tests GET /api/cdts/my-cdts should get all CDTs for authenticated user" duration="81"/>
    <testCase name="CDT Controller Integration Tests GET /api/cdts/my-cdts should filter CDTs by status" duration="36"/>
    <testCase name="CDT Controller Integration Tests GET /api/cdts/my-cdts should reject request without authentication" duration="29"/>
    <testCase name="CDT Controller Integration Tests GET /api/cdts/:id should get CDT by id for owner" duration="29"/>
    <testCase name="CDT Controller Integration Tests GET /api/cdts/:id should allow admin to view any CDT" duration="26"/>
    <testCase name="CDT Controller Integration Tests GET /api/cdts/:id should reject access to non-existent CDT" duration="82"/>
    <testCase name="CDT Controller Integration Tests GET /api/cdts/:id should reject request without authentication" duration="19"/>
    <testCase name="CDT Controller Integration Tests PATCH /api/cdts/:id should update CDT in draft status" duration="42"/>
    <testCase name="CDT Controller Integration Tests PATCH /api/cdts/:id should reject update of non-draft CDT" duration="23"/>
    <testCase name="CDT Controller Integration Tests PATCH /api/cdts/:id should reject update with invalid data" duration="29"/>
    <testCase name="CDT Controller Integration Tests PATCH /api/cdts/:id should reject update without authentication" duration="16"/>
    <testCase name="CDT Controller Integration Tests PATCH /api/cdts/:id/status should change status from draft to pending" duration="54"/>
    <testCase name="CDT Controller Integration Tests PATCH /api/cdts/:id/status should reject invalid status transition" duration="37"/>
    <testCase name="CDT Controller Integration Tests PATCH /api/cdts/:id/status should reject status change without newStatus" duration="39"/>
    <testCase name="CDT Controller Integration Tests PATCH /api/cdts/:id/status should reject invalid status value" duration="31"/>
    <testCase name="CDT Controller Integration Tests PATCH /api/cdts/:id/cancel should cancel CDT with valid reason" duration="24"/>
    <testCase name="CDT Controller Integration Tests PATCH /api/cdts/:id/cancel should reject cancellation without reason" duration="23"/>
    <testCase name="CDT Controller Integration Tests PATCH /api/cdts/:id/cancel should reject cancellation of completed CDT" duration="31"/>
    <testCase name="CDT Controller Integration Tests GET /api/cdts/:id/audit should get audit log for CDT owner" duration="45"/>
    <testCase name="CDT Controller Integration Tests GET /api/cdts/:id/audit should allow admin to view audit log" duration="29"/>
    <testCase name="CDT Controller Integration Tests DELETE /api/cdts/:id (Admin only) should allow admin to delete CDT" duration="28"/>
    <testCase name="CDT Controller Integration Tests DELETE /api/cdts/:id (Admin only) should reject delete from non-admin user" duration="25"/>
    <testCase name="CDT Controller Integration Tests DELETE /api/cdts/:id (Admin only) should reject delete of non-existent CDT" duration="35"/>
    <testCase name="CDT Controller Integration Tests GET /api/cdts (Admin only) should allow admin to get all CDTs" duration="180"/>
    <testCase name="CDT Controller Integration Tests GET /api/cdts (Admin only) should reject access from non-admin user" duration="11"/>
    <testCase name="CDT Controller Integration Tests GET /api/cdts (Admin only) should filter CDTs by status" duration="25"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\integration\authController.test.js">
    <testCase name="Auth Controller Integration Tests POST /api/auth/register should register a new user successfully" duration="1592"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/register should reject registration with existing email" duration="598"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/register should reject registration with invalid email" duration="34"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/register should reject registration with weak password" duration="40"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/register should reject registration with password mismatch" duration="92"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/register should reject registration with missing fields" duration="46"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/login should login with valid credentials" duration="1096"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/login should reject login with invalid email" duration="30"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/login should reject login with wrong password" duration="29"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/login should reject login with missing credentials" duration="15"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/login should reject login with invalid email format" duration="13"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/refresh should refresh token with valid refresh token" duration="1294"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/refresh should reject refresh with invalid token" duration="979"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/refresh should reject refresh without token" duration="942"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/logout should logout successfully with valid token" duration="1057"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/logout should reject logout without token" duration="990"/>
    <testCase name="Auth Controller Integration Tests POST /api/auth/logout should reject logout with invalid token" duration="980"/>
    <testCase name="Auth Controller Integration Tests Integration Flow: Register → Login → Logout should complete full authentication flow" duration="1586"/>
  </file>
  <file path="C:\Users\gabag\OneDrive\Escritorio\ingsoft\neocdt-project\BACKEND\tests\unit\cdtModel.admin.test.js">
    <testCase name="CDT Model - Admin Methods Coverage submitForReview - Usuario envía CDT a revisión ✅ Debería enviar CDT draft a pending exitosamente" duration="1895"/>
    <testCase name="CDT Model - Admin Methods Coverage submitForReview - Usuario envía CDT a revisión ✅ Debería crear audit log al enviar a revisión" duration="1308"/>
    <testCase name="CDT Model - Admin Methods Coverage submitForReview - Usuario envía CDT a revisión ❌ Debería rechazar envío de CDT inexistente" duration="1323"/>
    <testCase name="CDT Model - Admin Methods Coverage submitForReview - Usuario envía CDT a revisión ❌ Debería rechazar envío de CDT que no pertenece al usuario" duration="1032"/>
    <testCase name="CDT Model - Admin Methods Coverage submitForReview - Usuario envía CDT a revisión ❌ Debería rechazar envío de CDT que no está en draft" duration="947"/>
    <testCase name="CDT Model - Admin Methods Coverage submitForReview - Usuario envía CDT a revisión ❌ Debería rechazar envío de CDT con campos incompletos" duration="696"/>
    <testCase name="CDT Model - Admin Methods Coverage approve - Admin aprueba CDT ✅ Debería aprobar CDT pending exitosamente" duration="656"/>
    <testCase name="CDT Model - Admin Methods Coverage approve - Admin aprueba CDT ✅ Debería aprobar CDT con notas del admin" duration="630"/>
    <testCase name="CDT Model - Admin Methods Coverage approve - Admin aprueba CDT ✅ Debería crear audit log al aprobar" duration="606"/>
    <testCase name="CDT Model - Admin Methods Coverage approve - Admin aprueba CDT ❌ Debería rechazar aprobación de CDT inexistente" duration="689"/>
    <testCase name="CDT Model - Admin Methods Coverage approve - Admin aprueba CDT ❌ Debería rechazar aprobación de CDT que no está pending" duration="602"/>
    <testCase name="CDT Model - Admin Methods Coverage approve - Admin aprueba CDT ❌ Debería rechazar aprobación de CDT ya activo" duration="697"/>
    <testCase name="CDT Model - Admin Methods Coverage reject - Admin rechaza CDT ✅ Debería rechazar CDT pending con razón" duration="726"/>
    <testCase name="CDT Model - Admin Methods Coverage reject - Admin rechaza CDT ✅ Debería crear audit log al rechazar" duration="636"/>
    <testCase name="CDT Model - Admin Methods Coverage reject - Admin rechaza CDT ❌ Debería rechazar sin razón (adminNotes vacío)" duration="665"/>
    <testCase name="CDT Model - Admin Methods Coverage reject - Admin rechaza CDT ❌ Debería rechazar sin razón (adminNotes null)" duration="640"/>
    <testCase name="CDT Model - Admin Methods Coverage reject - Admin rechaza CDT ❌ Debería rechazar con razón solo espacios" duration="612"/>
    <testCase name="CDT Model - Admin Methods Coverage reject - Admin rechaza CDT ❌ Debería rechazar rechazo de CDT inexistente" duration="640"/>
    <testCase name="CDT Model - Admin Methods Coverage reject - Admin rechaza CDT ❌ Debería rechazar rechazo de CDT que no está pending" duration="606"/>
    <testCase name="CDT Model - Admin Methods Coverage reject - Admin rechaza CDT ❌ Debería rechazar rechazo de CDT ya aprobado" duration="635"/>
    <testCase name="CDT Model - Admin Methods Coverage cancel - Usuario/Admin cancela CDT ✅ Usuario debería cancelar su propio CDT pending" duration="613"/>
    <testCase name="CDT Model - Admin Methods Coverage cancel - Usuario/Admin cancela CDT ✅ Admin debería cancelar CDT pending de cualquier usuario" duration="757"/>
    <testCase name="CDT Model - Admin Methods Coverage cancel - Usuario/Admin cancela CDT ✅ Admin debería cancelar CDT active" duration="689"/>
    <testCase name="CDT Model - Admin Methods Coverage cancel - Usuario/Admin cancela CDT ✅ Debería crear audit log al cancelar" duration="584"/>
    <testCase name="CDT Model - Admin Methods Coverage cancel - Usuario/Admin cancela CDT ❌ Debería rechazar cancelación de CDT inexistente" duration="568"/>
    <testCase name="CDT Model - Admin Methods Coverage cancel - Usuario/Admin cancela CDT ❌ Usuario no debería cancelar CDT de otro usuario" duration="541"/>
    <testCase name="CDT Model - Admin Methods Coverage cancel - Usuario/Admin cancela CDT ❌ Usuario no debería cancelar CDT active" duration="522"/>
    <testCase name="CDT Model - Admin Methods Coverage cancel - Usuario/Admin cancela CDT ❌ Debería rechazar cancelación de CDT draft" duration="512"/>
    <testCase name="CDT Model - Admin Methods Coverage cancel - Usuario/Admin cancela CDT ❌ Debería rechazar cancelación de CDT completed" duration="554"/>
    <testCase name="CDT Model - Admin Methods Coverage complete - Sistema completa CDT vencido ✅ Debería completar CDT active exitosamente" duration="526"/>
    <testCase name="CDT Model - Admin Methods Coverage complete - Sistema completa CDT vencido ✅ Debería crear audit log al completar" duration="510"/>
    <testCase name="CDT Model - Admin Methods Coverage complete - Sistema completa CDT vencido ✅ Audit log debería incluir monto final con intereses" duration="509"/>
    <testCase name="CDT Model - Admin Methods Coverage complete - Sistema completa CDT vencido ❌ Debería rechazar completar CDT inexistente" duration="512"/>
    <testCase name="CDT Model - Admin Methods Coverage complete - Sistema completa CDT vencido ❌ Debería rechazar completar CDT que no está active" duration="525"/>
    <testCase name="CDT Model - Admin Methods Coverage complete - Sistema completa CDT vencido ❌ Debería rechazar completar CDT pending" duration="580"/>
    <testCase name="CDT Model - Admin Methods Coverage complete - Sistema completa CDT vencido ❌ Debería rechazar completar CDT ya completado" duration="583"/>
    <testCase name="CDT Model - Admin Methods Coverage Flujos completos (Integration) ✅ Flujo exitoso: draft → pending → active → completed" duration="666"/>
    <testCase name="CDT Model - Admin Methods Coverage Flujos completos (Integration) ✅ Flujo rechazo: draft → pending → rejected" duration="521"/>
    <testCase name="CDT Model - Admin Methods Coverage Flujos completos (Integration) ✅ Flujo cancelación usuario: draft → pending → cancelled" duration="504"/>
    <testCase name="CDT Model - Admin Methods Coverage Flujos completos (Integration) ✅ Flujo cancelación admin: active → cancelled" duration="541"/>
  </file>
</testExecutions>